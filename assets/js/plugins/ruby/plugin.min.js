tinymce.PluginManager.requireLangPack("ruby"),tinymce.PluginManager.add("ruby",function(a,b){var c=function(){const d=a.selection.getContent({format:"html"});if(d){return a.windowManager.open({title:"rubyTitle",body:{type:"panel",items:[{type:"htmlpanel",html:"<p>"+tinymce.translate(d)+"</p>"},{type:"input",name:"yomi",label:"rubyChild"}]},buttons:[{type:"cancel",text:"Close"},{type:"submit",text:"Insert",primary:!0}],onSubmit:function(f){var g=f.getData();a.insertContent("<ruby>"+d+"<rt>"+g.yomi+"</rt></ruby>"),f.close()}})}else{return a.windowManager.open({title:"rubyTitle",body:{type:"panel",items:[{type:"htmlpanel",html:"<p>"+tinymce.translate("rubyDesc")+"</p>"},{type:"input",name:"moji",label:"rubyParent"},{type:"input",name:"yomi",label:"rubyChild"}]},buttons:[{type:"cancel",text:"Close"},{type:"submit",text:"Insert",primary:!0}],onSubmit:function(f){var g=f.getData();a.insertContent("<ruby>"+g.moji+"<rt>"+g.yomi+"</rt></ruby>"),f.close()}})}};return a.ui.registry.addButton("ruby",{icon:"ruby",tooltip:"rubyTitle",onAction:function(){c()}}),a.ui.registry.addMenuItem("ruby",{text:"rubyTitle",icon:"ruby",context:"tools",onAction:function(){c()}}),a.ui.registry.addIcon("ruby",'<svg width="24" height="24"><use xlink:href="'+b+'/img/ruby.svg#ruby"></use></svg>'),{getMetadata:function(){return{name:"Ruby",url:"http://cccabinet.jpn.org/"}}}});